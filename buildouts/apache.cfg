[apache]
recipe = hexagonit.recipe.cmmi
keep-compile-dir = true

url = http://www.mirrorservice.org/sites/ftp.apache.org//httpd/httpd-2.2.26.tar.gz
configure-options =
    --prefix=${buildout:directory}/parts/apache
    --enable-mods-shared="all"    
    --enable-so
    --enable-cgi
    --enable-info
    --enable-rewrite
    --enable-speling
    --enable-usertrack
    --enable-deflate
    --enable-ssl
    --enable-mime-magic

[apache-config]
recipe = collective.recipe.template
# apache conf with include for wsgi
input = conf/httpd.conf
output = ${buildout:directory}/parts/apache/conf/httpd.conf

[mysite-apache-config]
recipe = collective.recipe.template
# 'mysite' django/wsgi conf
input = conf/apache_django_wsgi.conf
output = ${buildout:directory}/mysite/apache/apache_django_wsgi.conf

[mod-wsgi-install]
recipe = hexagonit.recipe.cmmi
keep-compile-dir = true
url = http://modwsgi.googlecode.com/files/mod_wsgi-3.4.tar.gz
configure-options= --with-apxs=${buildout:directory}/parts/apache/bin/apxs --with-python=${buildout:directory}/../../python/2.7.6/bin/python 
    
[mod-wsgi-config]
recipe = collective.recipe.template
# 'mysite' django/wsgi conf
input = conf/mlgb.wsgi
output = ${buildout:directory}/mysite/apache/mlgb.wsgi
